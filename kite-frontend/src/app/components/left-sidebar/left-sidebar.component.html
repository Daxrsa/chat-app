<div class="left-sidebar-body pt-5 pe-4 ps-4 pb-3">
    <div class="search-container d-flex gap-3">
        <input type="text" class="form-control search-input" placeholder="Search a conversation">
        <i class="fas fa-search search-icon"></i>
    </div>
    <div class="n-msg d-flex justify-content-between align-items-center mt-3">
        <div class="custom-toggle-switch">
            <input type="checkbox" id="modeToggle" [(ngModel)]="isNewMode" class="toggle-input">
            <label for="modeToggle" class="toggle-label">
                <span class="label-text all-text">All</span>
                <span class="label-text unread-text">Unread</span>
                <span class="toggle-handle"></span>
            </label>
        </div>
        <button type="button" class="d-flex gap-2 pe-3 pt-1 pb-1 ps-3 text-white circle fw-light" data-bs-toggle="modal"
            data-bs-target="#newMessageModal">
            <i class="bi bi-send-plus"></i>New message
        </button>
    </div>
</div>

<div class="divider"></div>

<div class="left-sidebar-body d-flex mt-3 flex-column gap-2">
    <div class="card card-active border-0">
        <div class="d-flex align-items-start justify-content-between w-100 p-3">
            <div class="d-flex align-items-start gap-2">
                <div class="position-relative">
                    <img class="img-fluid user-avatar object-fit-contain" src="../../../assets/images/male-avatar.webp"
                        alt="User Avatar">
                    <span class="status-indicator online"></span>
                </div>
                <div class="d-flex flex-column">
                    <div class="user-info">
                        <div class="d-flex justify-content-between">
                            <h6 class="m-0 p-0">John Mayer</h6>
                        </div>
                        <p class="m-0 p-0 custom-small-font">Available on Kite</p>
                    </div>
                    <p class="card-text custom-medium-font fw-light">Wanna hang out tomorrow?</p>
                </div>
            </div>
            <div class="d-flex flex-column gap-3 align-items-end">
                <span class="custom-medium-font custom-grey">10:36</span>
                <span class="custom-medium-font custom-grey"><i class="m-0 p-0 bi bi-three-dots"></i></span>
            </div>
        </div>
    </div>

    <div class="card border-0">
        <div class="d-flex align-items-start justify-content-between w-100 p-3">
            <div class="d-flex align-items-start gap-2">
                <div class="position-relative">
                    <img class="img-fluid user-avatar object-fit-contain" src="../../../assets/images/male-avatar.webp"
                        alt="User Avatar">
                    <span class="status-indicator online"></span>
                </div>
                <div class="d-flex flex-column">
                    <div class="user-info">
                        <div class="d-flex justify-content-between">
                            <h6 class="m-0 p-0">John Mayer</h6>
                        </div>
                        <p class="m-0 p-0 custom-small-font">Hey there! I am using Kite</p>
                    </div>
                    <p class="card-text custom-medium-font fw-light">Wanna hang out tomorrow?</p>
                </div>
            </div>
            <div class="d-flex flex-column gap-3 align-items-end">
                <span class="custom-medium-font custom-grey">10:36</span>
                <span class="custom-medium-font custom-grey"><i class="m-0 p-0 bi bi-three-dots"></i></span>
            </div>
        </div>
    </div>

    <div class="card border-0">
        <div class="d-flex align-items-start justify-content-between w-100 p-3">
            <div class="d-flex align-items-start gap-2">
                <div class="position-relative">
                    <img class="img-fluid user-avatar object-fit-contain" src="../../../assets/images/male-avatar.webp"
                        alt="User Avatar">
                    <span class="status-indicator online"></span>
                </div>
                <div class="d-flex flex-column">
                    <div class="user-info">
                        <div class="d-flex justify-content-between">
                            <h6 class="m-0 p-0">John Mayer</h6>
                        </div>
                        <p class="m-0 p-0 custom-small-font">Available on Kite</p>
                    </div>
                    <p class="card-text custom-medium-font fw-light">Wanna hang out tomorrow?</p>
                </div>
            </div>
            <div class="d-flex flex-column gap-3 align-items-end">
                <span class="custom-medium-font custom-grey">10:36</span>
                <span class="custom-medium-font custom-grey"><i class="m-0 p-0 bi bi-three-dots"></i></span>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="newMessageModal" tabindex="-1" aria-labelledby="newMessageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0">
            <div class="modal-header">
                <h5 class="modal-title" id="newMessageModalLabel">New Message</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="contactSearch" class="form-label">Search contacts</label>
                    <input type="text" class="form-control" id="contactSearch" placeholder="Type a name...">
                </div>

                <div class="contacts-list" style="max-height: 300px; overflow-y: auto;">
                    <div class="contact-item p-2 d-flex align-items-center gap-2">
                        <div class="position-relative">
                            <img src="../../../assets/images/user-placeholder.jpg"
                                class="rounded-circle" alt="Profile picture"
                                style="width: 40px; height: 40px; object-fit: cover;">
                            <span class="position-absolute bottom-0 end-0 status-indicator"></span>
                        </div>
                        <div>
                            <div class="fw-bold">John Meyer</div>
                            <div class="text-muted small">johnmeyer</div>
                        </div>
                    </div>

                    <div class="text-center p-3 text-muted">
                        No contacts found matching your search
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn custom-bg-blueviolet text-white" 
                    data-bs-dismiss="modal">
                    Start conversation
                </button>
            </div>
        </div>
    </div>
</div>